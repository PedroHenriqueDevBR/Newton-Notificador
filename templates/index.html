{% extends 'base.html' %}

{% block body %}

<ul class="nav nav-tabs justify-content-center bg-success-subtle">
    <li class="nav-item"><a class="nav-link link-success" href="#">Últimos envios</a></li>
    <li class="nav-item"><a class="nav-link link-success" href="#">Sucesso</a></li>
    <li class="nav-item"><a class="nav-link link-success" href="#">Erro</a></li>
    <li class="nav-item"><a class="nav-link link-success" href="#">Aguardando</a></li>
</ul>

<div class="container mt-5">
    <ol class="list-group">
        {% for notificacao in notificacoes %}
        <li class="list-group-item d-flex justify-content-between align-items-start">
            <!-- <input class="form-check-input me-1" type="checkbox" value="{{ notificacao.pk }}" id="notificacao-{{ notificacao.pk }}"> -->
            <div class="ms-2 me-auto">
                <div class="fw-bold">
                    <a href="{% url 'apresentar' notificacao.pk %}" style="text-decoration: dashed;" class="link-success">{{ notificacao.pk }} - {{ notificacao.assunto }}</a>
                </div>
                {{ notificacao.sistema }} -> {{ notificacao.destinatarios }}
            </div>
            {% for status in notificacao.status.all %}
            <span 
                class="badge text-white primary-color rounded-pill mx-1" 
                data-bs-toggle="tooltip" 
                data-bs-placement="left" 
                data-bs-title="> {{ status.detalhes.first.mensagem|safe }}"
            >
                {{ status.get_status_display }}
            </span>
            {% endfor %}
        </li>
        {% empty %}
        <span>Nenhuma notificação registrada</span>
        {% endfor %}
      </ol>
</div>

{% endblock body %}
